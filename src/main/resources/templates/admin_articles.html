<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Lakki+Reddy|Mountains+of+Christmas|Over+the+Rainbow|Shojumaru&display=swap" rel="stylesheet"> 
  <link
		href="https://fonts.googleapis.com/css?family=Lakki+Reddy|Mountains+of+Christmas|Over+the+Rainbow|Shojumaru|Rock+Salt|Roboto|Raleway&display=swap"
		rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="../css/admin.css">
  <title>Accueil Administrateur</title>
</head>
	<body>
  <div id="wrapper">
	  <aside th:replace="fragments/admin_sidebar.html :: sidebar"></aside>
	  <div th:replace="fragments/admin_sidebar.html :: navbar"></div>
	  <main class="fluid-container pt-3" id="content-wrapper">
	  	<section>
	  	<h2 class="text-center mt-4">Liste de tous les articles</h2>
	  		<div class="row d-flex justify-content-center py-2 py-sm-5">
				<div class="col-12 col-lg-8">
					<div class="row row-cols-1 row-cols-md-3 justify-content-center">
						<div class="col mb-4" th:each="article : ${articles}">
							<div class="card">
								<div class="card-body">
									<p class="card-text">
										<small th:if=${article?.publishState} class="text-success">Publié</small>
										<small th:unless="${article?.publishState}" class="text-danger">Privé</small>
									</p>
									<h5 class="card-title mt-2 mb-4" th:text="${article?.title}">Card title</h5>
									<div class="m-0 p-0">
										<span>
											<svg aria-hidden="true" focusable="false" data-prefix="fas"
												data-icon="user-circle"
												class="mr-1 mb-1 svg-inline--fa fa-user-circle fa-w-16" role="img"
												xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512">
												<path fill="currentColor"
													d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z">
												</path>
											</svg>
											<span th:text="${article?.author}"></span>
										</span>
										<span class="ml-2">
											<svg aria-hidden="true" focusable="false" data-prefix="far"
												data-icon="calendar-alt"
												class="mr-1 mb-1 svg-inline--fa fa-calendar-alt fa-w-14" role="img"
												xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
												<path fill="currentColor"
													d="M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z">
												</path>
											</svg>
											<span th:text="${#dates.format(article?.date, 'dd-MM-yyyy')}"></span>
										</span>
									</div>
								</div>
								<img th:src="|/${article?.picturePath}|" class="card-img-top rounded-0" alt="...">
								<div class="card-body">
									<p class="card-text" th:text="|${#strings.substring(article?.content,0,110)} ...|">This is a longer card with supporting text below as a natural
										lead-in to additional content. This content is a little bit longer.</p>
									<div class="d-flex justify-content-between">
										<form method="POST" th:action="@{/admin/selectArticle}">
											<input type="hidden" name="articleId" th:value="${article?.id}"/>
											<button type="submit" class="btn btn-light mt-3">Modifier</button>										
										</form>
										<form method="POST" th:action="@{/admin/deleteArticle}">
											<input type="hidden" name="articleId" th:value="${article?.id}"/>
											<button type="submit" class="btn btn-light mt-3">Supprimer</button>										
										</form>
									</div>
								</div>
							</div>					
						</div>
					</div>
				</div>
			</div> 	
	  	</section>	  
    	</main>
	</div>	  
</body>
	<script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
	<script type="text/javascript" src="../js/admin.js"></script>
</html>

